(this["webpackJsonpreact-todo-list"]=this["webpackJsonpreact-todo-list"]||[]).push([[0],{260:function(e,t,o){},261:function(e,t,o){},262:function(e,t,o){},637:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),s=o(24),l=o.n(s),a=(o(260),o.p,o(261),o(184)),r=o.n(a),i=o(242),d=o(79),j=o(642),u=o(645),b=o(252),h=o(639),m=o(640),f=(o(262),o(641)),O=o(151),p=o(646),x=o(647),g=o(110),T=o(648),v=o(255),y=o(71),C=o(10),S=function(e){var t=e.todo,o=e.onTodoRemoval,n=e.onTodoToggle;return Object(C.jsx)(f.b.Item,{actions:[Object(C.jsx)(O.a,{title:t.completed?"Mark as not completed":"Mark as completed",children:Object(C.jsx)(p.a,{checkedChildren:Object(C.jsx)(v.a,{}),unCheckedChildren:Object(C.jsx)(y.a,{}),onChange:function(){return n(t)},defaultChecked:t.completed})}),Object(C.jsx)(x.a,{title:"Are you sure you want to delete this todo?",onConfirm:function(){o(t)},children:Object(C.jsx)(g.a,{className:"remove-todo-button",type:"primary",danger:!0,children:"X"})})],className:"list-item",children:Object(C.jsx)("div",{className:"todo-item",children:Object(C.jsx)(T.a,{color:t.completed?"green":"red",className:"todo-tag",children:t.title})})},t.id)},F=function(e){var t=e.todos,o=e.onTodoRemoval,n=e.onTodoToggle;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(f.b,{locale:{emptyText:"No todos"},dataSource:t,renderItem:function(e){return Object(C.jsx)(S,{todo:e,onTodoToggle:n,onTodoRemoval:o})},pagination:{position:"bottom",pageSize:10}})})},k=o(643),N=o(644),R=o(649),w=(o(337),function(e){var t=e.onFormSubmit,o=k.a.useForm(),n=Object(d.a)(o,1)[0];return Object(C.jsx)(k.a,{form:n,onFinish:function(){t({title:n.getFieldValue("title"),completed:!1}),console.log(n.getFieldValue("title")),n.resetFields()},layout:"horizontal",className:"todo-form",children:Object(C.jsxs)(h.a,{gutter:20,children:[Object(C.jsx)(m.a,{xs:24,sm:24,md:17,lg:19,xl:20,children:Object(C.jsx)(k.a.Item,{name:"title",rules:[{required:!0,message:"Please input your todo!"}],children:Object(C.jsx)(N.a,{placeholder:"What needs to be done?"})})}),Object(C.jsx)(m.a,{xs:24,sm:24,md:7,lg:5,xl:4,children:Object(C.jsxs)(g.a,{type:"primary",htmlType:"submit",block:!0,children:[Object(C.jsx)(R.a,{}),"Add Todo"]})})]})})}),A="".concat("https://localhost:8000","/tasks"),E=function(){return fetch(A).then((function(e){return e.json()}))},P=j.a.TabPane,I=u.a.Content,L=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),o=t[0],c=t[1],s=Object(n.useState)([]),l=Object(d.a)(s,2),a=l[0],f=l[1],O=Object(n.useState)([]),p=Object(d.a)(O,2),x=p[0],g=p[1],T=Object(n.useState)([]),v=Object(d.a)(T,2),y=v[0],S=v[1],k=function(e){var t;(t=e.id,fetch("".concat(A,"/").concat(t),{method:"DELETE"}).then((function(e){return e.json()}))).then(R()),b.b.warn("Todo deleted successfully")},N=function(e){e.completed=!e.completed,function(e){return fetch("".concat(A,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,title:e.title,completed:e.completed})}).then((function(e){return e.json()}))}(e).then(R()),b.b.info("Todo updated successfully")},R=Object(n.useCallback)(Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,E;case 3:t=e.sent,f(t),g(t.filter((function(e){return!1===e.completed}))),S(t.filter((function(e){return!0===e.completed}))),c(!1),console.log("Refresh state",o);case 9:case"end":return e.stop()}}),e)}))),[o]);return Object(n.useEffect)((function(){E().then((function(e){f(e),g(e.filter((function(e){return!1===e.completed}))),S(e.filter((function(e){return!0===e.completed})))})).then(console.log("Todos refreshed"))}),[R]),Object(C.jsx)(u.a,{className:"layout",children:Object(C.jsx)(I,{style:{padding:"0 50px"},children:Object(C.jsx)("div",{className:"todoList",children:Object(C.jsx)(h.a,{children:Object(C.jsxs)(m.a,{span:14,offset:5,children:[Object(C.jsx)("h1",{children:"Ensolvers Todo List"}),Object(C.jsx)(w,{onFormSubmit:function(e){console.log("Todo being created",e),function(e){return fetch(A,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){return e.json()}))}(e).then(R()),b.b.success("Todo created successfully")}}),Object(C.jsx)("br",{}),Object(C.jsxs)(j.a,{defaultActiveKey:"all",children:[Object(C.jsx)(P,{tab:"All",children:Object(C.jsx)(F,{todos:a,onTodoToggle:N,onTodoRemoval:k})},"all"),Object(C.jsx)(P,{tab:"Active",children:Object(C.jsx)(F,{todos:x,onTodoToggle:N,onTodoRemoval:k})},"active"),Object(C.jsx)(P,{tab:"Complete",children:Object(C.jsx)(F,{todos:y,onTodoToggle:N,onTodoRemoval:k})},"complete")]})]})})})})})};var J=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(L,{})})},M=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,650)).then((function(t){var o=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;o(e),n(e),c(e),s(e),l(e)}))};l.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(J,{})}),document.getElementById("root")),M()}},[[637,1,2]]]);
//# sourceMappingURL=main.fdc02cc7.chunk.js.map